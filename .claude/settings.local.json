{
  "permissions": {
    "allow": [
      "Bash(python -m http.server:*)",
      "Bash(for:*)",
      "Bash(do)",
      "Bash(if [ ! -f \"$file\" ])",
      "Bash(then echo \"MISSING: $file\")",
      "Bash(fi)",
      "Bash(done)",
      "Bash(timeout:*)",
      "Bash(findstr:*)",
      "Bash(powershell -ExecutionPolicy Bypass -File \"C:\\\\Users\\\\Toufi\\\\AndroidStudioProjects\\\\cloningk\\\\update-coaching.ps1\")",
      "Bash(del \"C:\\\\Users\\\\Toufi\\\\AndroidStudioProjects\\\\cloningk\\\\update-coaching.ps1\")",
      "Bash(powershell -ExecutionPolicy Bypass -File \"C:\\\\Users\\\\Toufi\\\\AndroidStudioProjects\\\\cloningk\\\\add-social.ps1\")",
      "Bash(powershell -ExecutionPolicy Bypass -File \"C:\\\\Users\\\\Toufi\\\\AndroidStudioProjects\\\\cloningk\\\\fix-linkedin.ps1\")",
      "Bash(grep:*)",
      "Bash(do curl -sS -o \"$img\" \"https://advensys-conseil.lu/wp-content/themes/konseil/assets/img/blog/$img\")",
      "Bash(echo:*)",
      "Bash(curl:*)",
      "Bash(UA=\"Mozilla/5.0 \\(Windows NT 10.0; Win64; x64\\) AppleWebKit/537.36 \\(KHTML, like Gecko\\) Chrome/120.0.0.0 Safari/537.36\")",
      "Bash(do curl -sS -A \"$UA\" -o \"$img\" \"https://advensys-conseil.lu/wp-content/themes/konseil/assets/img/blog/$img\")",
      "Bash(__NEW_LINE_d45b54f88ba0c35c__ curl -sS -L -A \"$UA\" -o \"C:/Users/Toufi/AndroidStudioProjects/cloningk/advensys-conseil.lu/wp-content/themes/konseil/assets/img/media/bfmtv-logo.png\" \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Logo_BFMTV_2019.svg/200px-Logo_BFMTV_2019.svg.png\")",
      "Bash(__NEW_LINE_d45b54f88ba0c35c__ curl -sS -L -A \"$UA\" -o \"C:/Users/Toufi/AndroidStudioProjects/cloningk/advensys-conseil.lu/wp-content/themes/konseil/assets/img/media/forbes-logo.png\" \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Forbes_logo.svg/200px-Forbes_logo.svg.png\")",
      "Bash(python:*)",
      "Bash(ls:*)",
      "Bash(python3:*)",
      "Bash(powershell -Command \"\n@''\nimport re, glob, os\n\nfr_files = sorted\\(glob.glob\\(''blog/*/index.html''\\)\\)\nen_files = sorted\\(glob.glob\\(''en/blog/*/index.html''\\)\\)\n\nwith open\\(fr_files[0], ''r'', encoding=''utf-8''\\) as f:\n    sample = f.read\\(\\)\n\ncss_sm = ''#respond form .anr_captcha_field label{display:flex''\ncss_em = ''margin:0;background:#fff;}''\ni1 = sample.find\\(css_sm\\)\ni2 = sample.find\\(css_em, i1\\) + len\\(css_em\\)\nold_css = sample[i1:i2]\n\nnew_css_lines = [\n    \"\".robot-check-box{display:flex !important;align-items:center;gap:14px;padding:16px 28px;border:2px solid #ddd;border-radius:8px;cursor:pointer;background:#fff;font:500 15px ''Barlow'',sans-serif;color:#00226E;user-select:none;transition:all 0.3s ease;box-shadow:0 2px 8px rgba\\(0,0,0,0.06\\);max-width:280px;margin:0 auto;}\"\",\n    \"\".robot-check-box:hover{border-color:#003CC5;box-shadow:0 2px 12px rgba\\(0,60,197,0.15\\);}\"\",\n    \"\".robot-check-box.checked{border-color:#22c55e;background:#f0fdf4;}\"\",\n    \"\".robot-check-checkbox-wrap{position:relative;width:28px;height:28px;flex-shrink:0;}\"\",\n    ''.robot-check-checkbox-wrap input[type=\"\"checkbox\"\"]{width:28px !important;height:28px !important;min-width:28px;min-height:28px;cursor:pointer;accent-color:#003CC5;-webkit-appearance:checkbox !important;appearance:checkbox !important;display:block !important;border:2px solid #003CC5 !important;border-bottom:2px solid #003CC5 !important;border-radius:4px;padding:0 !important;margin:0 !important;background:#fff;transition:all 0.2s ease;}'',\n    \"\".robot-check-text{font:500 16px ''Barlow'',sans-serif;color:#00226E;letter-spacing:0.3px;}\"\",\n    \"\".robot-check-error{color:#dc2626;font:500 13px ''Barlow'',sans-serif;text-align:center;margin-top:8px;min-height:20px;}\"\",\n    \"\"#respond form #submit:disabled{opacity:0.5;cursor:not-allowed;background:linear-gradient\\(166.21deg, #ccc 0%, #aaa 100%\\);}\"\",\n    \"\"#respond form #submit:not\\(:disabled\\){opacity:1;cursor:pointer;}\"\",\n    \"\"#respond form .anr_captcha_field{margin-top:15px;margin-bottom:15px;display:flex;flex-direction:column;align-items:center;}\"\",\n]\nnew_css = chr\\(10\\).join\\(new_css_lines\\)\n\njs_lines = [\n    ''<script>'',\n    ''\\(function\\(\\){'',\n    \"\"var cb=document.getElementById\\(''not-a-robot''\\);\"\",\n    \"\"var btn=document.getElementById\\(''submit''\\);\"\",\n    \"\"var box=document.getElementById\\(''robot-check-box''\\);\"\",\n    \"\"var err=document.getElementById\\(''robot-error''\\);\"\",\n    ''if\\(!cb||!btn\\)return;'',\n    ''btn.disabled=true;'',\n    \"\"cb.addEventListener\\(''change'',function\\(\\){\"\",\n    ''if\\(cb.checked\\){'',\n    ''btn.disabled=false;'',\n    \"\"box.classList.add\\(''checked''\\);\"\",\n    \"\"err.textContent='''';\"\",\n    ''}else{'',\n    ''btn.disabled=true;'',\n    \"\"box.classList.remove\\(''checked''\\);\"\",\n    ''}'',\n    ''}\\);'',\n    \"\"var form=cb.closest\\(''form''\\);\"\",\n    \"\"if\\(form\\){form.addEventListener\\(''submit'',function\\(e\\){\"\",\n    ''if\\(!cb.checked\\){'',\n    ''e.preventDefault\\(\\);'',\n    ''MSG_PLACEHOLDER'',\n    \"\"box.style.borderColor=''#dc2626'';\"\",\n    \"\"box.classList.remove\\(''checked''\\);\"\",\n    \"\"setTimeout\\(function\\(\\){box.style.borderColor='''';},2000\\);\"\",\n    ''}'',\n    ''}\\);}'',\n    \"\"if\\(box\\){box.addEventListener\\(''click'',function\\(e\\){\"\",\n    \"\"if\\(e.target!==cb\\){cb.checked=!cb.checked;cb.dispatchEvent\\(new Event\\(''change''\\)\\);}\"\",\n    ''}\\);}'',\n    ''}\\)\\(\\);'',\n    ''</script>'',\n    ''</body>'',\n]\njs_template = chr\\(10\\).join\\(js_lines\\)\n\nfr_msg = \"\"err.textContent=''Veuillez confirmer que vous n\"\" + chr\\(92\\) + chr\\(39\\) + \"\"etes pas un robot.'';\"\"\nen_msg = \"\"err.textContent=''Please confirm you are not a robot.'';\"\"\n\nfr_js = js_template.replace\\(''MSG_PLACEHOLDER'', fr_msg\\)\nen_js = js_template.replace\\(''MSG_PLACEHOLDER'', en_msg\\)\n\nfr_captcha_new = ''<div class=\"\"anr_captcha_field\"\" id=\"\"robot-check-container\"\"><div class=\"\"robot-check-box\"\" id=\"\"robot-check-box\"\"><div class=\"\"robot-check-checkbox-wrap\"\"><input type=\"\"checkbox\"\" id=\"\"not-a-robot\"\" aria-label=\"\"Je ne suis pas un robot\"\"></div><span class=\"\"robot-check-text\"\">Je ne suis pas un robot</span></div><p class=\"\"robot-check-error\"\" id=\"\"robot-error\"\" role=\"\"alert\"\" aria-live=\"\"polite\"\"></p></div><p class=\"\"form-submit\"\"><input name=\"\"submit\"\" type=\"\"submit\"\" id=\"\"submit\"\" class=\"\"submit\"\" value=\"\"Laisser un commentaire\"\" disabled />''\n\nen_captcha_new = ''<div class=\"\"anr_captcha_field\"\" id=\"\"robot-check-container\"\"><div class=\"\"robot-check-box\"\" id=\"\"robot-check-box\"\"><div class=\"\"robot-check-checkbox-wrap\"\"><input type=\"\"checkbox\"\" id=\"\"not-a-robot\"\" aria-label=\"\"I am not a robot\"\"></div><span class=\"\"robot-check-text\"\">I am not a robot</span></div><p class=\"\"robot-check-error\"\" id=\"\"robot-error\"\" role=\"\"alert\"\" aria-live=\"\"polite\"\"></p></div><p class=\"\"form-submit\"\"><input name=\"\"submit\"\" type=\"\"submit\"\" id=\"\"submit\"\" class=\"\"submit\"\" value=\"\"Post Comment\"\" disabled />''\n\nfr_captcha_re = re.compile\\(r''<div class=\"\"anr_captcha_field\"\"[^>]*>.*?Je ne suis pas un robot.*?</div><p class=\"\"form-submit\"\"><input name=\"\"submit\"\" type=\"\"submit\"\" id=\"\"submit\"\" class=\"\"submit\"\" value=\"\"Laisser un commentaire\"\" />''\\)\nen_captcha_re = re.compile\\(r''<div class=\"\"anr_captcha_field\"\"[^>]*>.*?I am not a robot.*?</div><p class=\"\"form-submit\"\"><input name=\"\"submit\"\" type=\"\"submit\"\" id=\"\"submit\"\" class=\"\"submit\"\" value=\"\"Post Comment\"\" />''\\)\n\nfr_modified = 0\nen_modified = 0\nerrors = []\n\ndef process_file\\(filepath, captcha_re, captcha_new, js_block\\):\n    with open\\(filepath, ''r'', encoding=''utf-8''\\) as f:\n        content = f.read\\(\\)\n    original = content\n    content, n1 = captcha_re.subn\\(captcha_new, content\\)\n    n2 = 1 if old_css in content else 0\n    content = content.replace\\(old_css, new_css\\)\n    n3 = 0\n    marker = \"\"var cb=document.getElementById\"\"\n    if marker not in content:\n        if ''</body>'' in content:\n            content = content.replace\\(''</body>'', js_block, 1\\)\n            n3 = 1\n    if content != original:\n        with open\\(filepath, ''w'', encoding=''utf-8''\\) as f:\n            f.write\\(content\\)\n        return True, n1, n2, n3\n    return False, n1, n2, n3\n\nfor fp in fr_files:\n    ok, n1, n2, n3 = process_file\\(fp, fr_captcha_re, fr_captcha_new, fr_js\\)\n    if ok:\n        fr_modified += 1\n        print\\(f''FR modified: {fp} \\(captcha:{n1}, css:{n2}, js:{n3}\\)''\\)\n    else:\n        errors.append\\(f''FR NOT modified: {fp} \\(captcha:{n1}, css:{n2}, js:{n3}\\)''\\)\n\nfor fp in en_files:\n    ok, n1, n2, n3 = process_file\\(fp, en_captcha_re, en_captcha_new, en_js\\)\n    if ok:\n        en_modified += 1\n        print\\(f''EN modified: {fp} \\(captcha:{n1}, css:{n2}, js:{n3}\\)''\\)\n    else:\n        errors.append\\(f''EN NOT modified: {fp} \\(captcha:{n1}, css:{n2}, js:{n3}\\)''\\)\n\nprint\\(\\)\nprint\\(''=== SUMMARY ===''\\)\nprint\\(f''French files modified: {fr_modified}/17''\\)\nprint\\(f''English files modified: {en_modified}/17''\\)\nprint\\(f''Total modified: {fr_modified + en_modified}/34''\\)\nif errors:\n    print\\(''Issues:''\\)\n    for e in errors:\n        print\\(f''  {e}''\\)\n''@ | Set-Content -Path ''_main.py'' -Encoding UTF8\nWrite-Output ''Script written''\n\")",
      "Bash(powershell -Command:*)",
      "Bash(Select-Object -First 20)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nRemove all HTTrack references and replace root index with clean redirect\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(git checkout:*)",
      "Bash(git stash:*)",
      "Bash(dir \"C:\\\\Users\\\\Toufi\\\\AndroidStudioProjects\\\\cloningk\\\\advensys-conseil.lu\\\\wp-content\\\\themes\\\\konseil\\\\assets\\\\img\\\\contact-services\")"
    ]
  }
}
